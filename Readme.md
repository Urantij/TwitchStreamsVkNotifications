Пишет на **стене в вк** уведомление о начале стрима на твиче.

Работает только для одного стримера. Может быть в будущем превращу этот проект в комбайн для уведомлений, но пока нет.

# Требования

Для работы с вк нужен сервер, поддерживающий хттпс соединение.

А также нужен свой домен.

Сертификаты.
Я использую CertBot. БЕСПЛАТНО.
https://certbot.eff.org

В теории, можно было бы сделать свой сертификат, и игнорировать предупреждение в браузере, но я не хочу проводить лекцию о работе протоколов, и почему в этом конкретном случае можно жать "продолжить".

# Как использовать

В `appsettings.json` прописать путь до сертификатов.
И если используется нестандартный порт, поправить строку `Urls`.

Создать приложение в вк
https://vk.com/editapp?act=create

Выбрать
Платформа: Standalone-приложение

После создания пройти в настройки приложения, там
- Скопировать ID приложения
- Включить его (Поле "Состояние")
- Сохранить.

Создать options.json. В проекте есть пример.
**Если посты пишутся на стене в группе, к айди владельца нужно добавить минус.**

Запустить.

Пройти по ссылке, "Авторизоваться", откроется новая вкладка с авторизацией. Она сделает редирект на пустую страницу, и в адресной строке будет токен. Нужно скопировать **всю** адресную строку, открыть вкладку сайта, вставить в поле для ввода, "Отправить".
**Важно.** Нельзя открывать ещё одну вкладку сайта. Там унылый способ хранить стейт, так что просто одну вкладку юзать надо.

По умолчанию, если стрим запустился меньше чем через пять минут после его завершения, то анонса не будет.

# Ой

Вк говорит, что нельзя использовать токен, полученный через имплисит флоу, для запросов с сервера. А другие токены для создания постов на стене не подходят.
Можно, конечно, запускать это приложение с клиента, но кто сможет заставить стримера запускать какую-то ерунду? Точно не я.

~~Ещё вк говорит, что с Open API offline доступ не работает, но мне возвращает время жизни 0.
Так что, вроде как, токен должен жить постоянно. Обработки его устаревания нет.~~

# Анекдоты 2023

Изначально проект был более дружелюбным по отношению к юзеру, но в процессе использования выяснилось, что работать ничего не будет.

Если использовать Open Api (редирект на свой же сайт при аутентификации), то время жизни токена, конечно, напишет ноль, но жить он будет сутки. Единственный вариант - делать редирект на бланк пейж, и вставлять ссылку в программу. Увы.